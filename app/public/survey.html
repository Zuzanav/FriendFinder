<html lang="en">

<head>
<meta charset="UTF-8">
<title>FriendFinder</title>
      
<!-- LINKS =============================================================================================-->

<!--BOOTSTRAP ------------------------------->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

<!-- JQUERY---------------------------------->
<script src="https://code.jquery.com/jquery.js"></script>

<!--BOOTSTRAP ------------------------------->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
      
<!-- FONT AWESOME --------------------------->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
      
<!-- AJAX ------------------------->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

<!--=======================================================================================================-->
      
</head>
      
<body>
      
    <div class="container">
      
        <h2>Questionnaire</h2>
        <hr>
      
        <h3>About You</h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="">
      
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="">
      
        <hr>
      
        <!-- QUESTION 1 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q1">1.) What type of workout do you focus on most?</label>
            <select class="form-control" id="q1">
                <option value=""></option>
                <option value="1"> Yoga </option>
                <option value="2"> Cardio </option>
                <option value="3"> Strength </option>
                <option value="4"> Strength and cardio equally </option>
            </select>
        </div>

        <!-- QUESTION 2 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q2">2.) How long do you typically workout for (during a single session)? </label>
            <select class="form-control" id="q2">
                <option value=""></option>
                <option value="1"> 30 minutes or less </option>
                <option value="2"> 45 minutes </option>
                <option value="3"> 1 hour + </option>
                <option value="4"> 2 hours + </option>
            </select>
        </div>

        <!-- QUESTION 3 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q3">3.) What level of athlete are you?</label>
            <select class="form-control" id="q3">
                <option value=""></option>
                <option value="1"> Novice </option>
                <option value="2"> Intermediate </option>
                <option value="3"> Expert </option>
                <option value="4"> Professional Athlete </option>
            </select>
        </div>

        <!-- QUESTION 4 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q4">4.) What is your top motivation to working out?</label>
            <select class="form-control" id="q4">
                <option value=""></option>
                <option value="1"> Weight Loss </option>
                <option value="2"> Tone </option>
                <option value="3"> Endurance </option>
                <option value="4"> Strength </option>
            </select>
        </div>

        <!-- QUESTION 5 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q5">5.) Do you prefer to workout: </label>
            <select class="form-control" id="q5">
                <option value=""></option>
                <option value="1"> With a class </option>
                <option value="2"> With lots of friends </option>
                <option value="3"> With one other person </option>
                <option value="4"> By myself </option>
            </select>
        </div>
    
        <!-- QUESTION 6 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q6">6.) How seriously do you take your workout lifestyle?</label>
            <select class="form-control" id="q6">
                <option value=""></option>
                <option value="1"> Casually </option>
                <option value="2"> Somewhat seriously </option>
                <option value="3"> Seriously</option>
                <option value="4"> Very Seriously </option>
            </select>
        </div>

        <!-- QUESTION 7 ----------------------------------------------------------->
        <div class="form-group">
            <label for="q7">7.) What are you looking for in a gym buddy?</label>
            <select class="form-control" id="q7">
                <option value=""></option>
                <option value="1"> Someone to hangout with </option>
                <option value="2"> Someone to help push me </option>
                <option value="3"> Someone I can push who will also push me </option>
                <option value="4"> Someone to workout side by side with </option>
            </select>
        </div>

        <!-- QUESTION 8 ----------------------------------------------------------->
        <div class="form-group">
                <label for="q8">8.) Are you comfortable spotting?</label>
                <select class="form-control" id="q8">
                    <option value=""></option>
                    <option value="1"> No, definitely not </option>
                    <option value="2"> I have little/no experience, but I am open to trying </option>
                    <option value="3"> I can spot </option>
                    <option value="4"> Yes, definitely </option>
                </select>
        </div>


        <!-- QUESTION 9 ----------------------------------------------------------->
        <div class="form-group">
                <label for="q9">9.) Do you warm up before your workout?</label>
                <select class="form-control" id="q9">
                    <option value=""></option>
                    <option value="1"> My workout is my warm up </option>
                    <option value="2"> Occasionaly </option>
                    <option value="3"> Depends on the type of workout </option>
                    <option value="4"> Yes, it's very important to do so </option>
                </select>
        </div>

        <!-- QUESTION 10 ----------------------------------------------------------->
        <div class="form-group">
                <label for="q10">10.) Do you treat yourself to some special food after your workout?</label>
                <select class="form-control" id="q10">
                    <option value=""></option>
                    <option value="1"> Definitely. I treat myself to pizza/ice-cream/other foods for my hard work </option>
                    <option value="2"> Sometimes I'll have a treat, sometimes I'll have a regular meal </option>
                    <option value="3"> I'll eat something, but it may not necessarily be a treat </option>
                    <option value="4"> No, a good workout is the reward </option>
                </select>
        </div>

        <!-- END OF QUESTIONS ------------------------------------------------------------------>
        <!--======================================================================================-->

        <br>
        <br>
      
        <!-- SUBMIT BUTTON ---------------------------------------------------------------->
        <button type="submit" class="btn btn-primary btn-lg btn-block btn-success" id="submit">Find Your Gym Buddy!</button>
      
    </div><!-- END CONTAINER --------------------------------------------------------------------->
    
    <!--========================================================================================================-->
      
        <!-- MODAL WINDOW --------------------------------------------------------------->
        <div id="results-window" class="modal fade" role="dialog">
          <div class="modal-dialog">
      
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">Ã—</button>
                <h2 class="modal-title"><strong>Best Match</strong></h2>
              </div>
              <div class="modal-body text-center">
                <h2 id="gym-buddy-name"></h2>
                <img id="gym-buddy-photo" class="center" src="" alt="" style="max-height:250px" >
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
      
          </div>
        </div>

<!--========================================================================================================-->

<!-- JAVASCRIPT ------------------------------------->
    <script type="text/javascript">

    // on submission of the survey, run this function...
    $("#submit").on("click", function(event) {
    event.preventDefault();

    function validAns() {
            
            var complete = true;
            $(".form-control").each(function() {
                if ($(this).val() === ""){
                    complete = false;
                }
            });
            $(".select").each(function() {
                if ($(this).val() === ""){
                    complete = false;
                }
            });
            return complete;
        }

        if (validAns() == true) {
             
             var userData = {
                 name: $("#name").val().trim(),
                 photo: $("#photo").val().trim(),
                 answers: [
                     $('#q1').val(),
                     $('#q2').val(),
                     $('#q3').val(),
                     $('#q4').val(),
                     $('#q5').val(),
                     $('#q6').val(),
                     $('#q7').val(),
                     $('#q8').val(),
                     $('#q9').val(),
                     $('#q10').val(),
                 ]
             };

             var currentURL = window.location.origin;

             $.post(currentURL + "/api/friends", userData, function(data) {
                
                // include in the modal window the name and photo of the gym buddy match
                 $("#gym-buddy-name").text(data.name);
                 $("#gym-buddy-photo").attr("src", data.photo);

                 // make a modal window pop-up when user hits the submit button
                 $("#results-window").modal("toggle");
        //     });
            
        //     $('#name').val("");
        //     $('#photo').val("");
        //     $('#q1').val("");
        //     $('#q2').val("");
        //     $('#q3').val("");
        //     $('#q4').val("");
        //     $('#q5').val("");
        //     $('#q6').val("");
        //     $('#q7').val("");
        //     $('#q8').val("");
        //     $('#q9').val("");
        //     $('#q10').val("");
           
        // } else {
        //     alert("Complete all fields. Thank you.")
        // }
        

        //     }
    
    });
}
    });


    </script>

<!-- END JAVASCRIPT ------------------------------->

<!--========================================================================================================-->

</body>

</html>